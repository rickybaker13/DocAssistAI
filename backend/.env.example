# ─── Database ─────────────────────────────────────────────────────────────────
# Automatically injected by Railway when using Railway PostgreSQL service.
# For local dev: set a local PostgreSQL connection string.
DATABASE_URL=postgresql://user:password@host:5432/dbname

# ─── Authentication ───────────────────────────────────────────────────────────
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-me-64-char-random-string
COOKIE_SECRET=change-me-64-char-random-string

# ─── AI Provider ──────────────────────────────────────────────────────────────
# Option A: Direct Anthropic API (current default)
#   Lowest latency path to Claude — no AWS SDK overhead.
EXTERNAL_AI_TYPE=anthropic
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-sonnet-4-6

# Option B: AWS Bedrock (uses AWS credential chain — env vars, ~/.aws, instance role)
#   EXTERNAL_AI_TYPE=bedrock
#   AWS_ACCESS_KEY_ID=AKIA...
#   AWS_SECRET_ACCESS_KEY=...
#   AWS_REGION=us-east-1
#   BEDROCK_MODEL=us.anthropic.claude-sonnet-4-6

# Option C: Google Gemini via OpenRouter (fastest for note generation — ~3x cheaper)
#   EXTERNAL_AI_TYPE=openrouter
#   OPENROUTER_API_KEY=sk-or-...
#   OPENROUTER_MODEL=google/gemini-2.0-pro-exp-02-05

# ─── Presidio (PII De-identification) ─────────────────────────────────────────
# Point to your DigitalOcean droplet running docker-compose (Presidio + Whisper).
PRESIDIO_ANALYZER_URL=http://<DROPLET_IP>:5002
PRESIDIO_ANONYMIZER_URL=http://<DROPLET_IP>:5001
PRESIDIO_MIN_SCORE=0.7
PRESIDIO_TIMEOUT_MS=5000

# ─── Whisper (Speech-to-Text) ────────────────────────────────────────────────
# Self-hosted Whisper on the DigitalOcean droplet. Omit to use OpenAI cloud API.
WHISPER_API_URL=http://<DROPLET_IP>:9000
WHISPER_TIMEOUT_MS=120000

# ─── Server ───────────────────────────────────────────────────────────────────
PORT=3000
NODE_ENV=production

# ─── CORS ─────────────────────────────────────────────────────────────────────
# Set to your Vercel deployment URL (no trailing slash).
FRONTEND_URL=https://your-app.vercel.app

# ─── Rate Limiting ────────────────────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
